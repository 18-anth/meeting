{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/antho/Desktop/prueba/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/Users/antho/Desktop/prueba/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"C:/Users/antho/Desktop/prueba/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LibrarySong(_ref){var song=_ref.song,songs=_ref.songs,setCurrentSong=_ref.setCurrentSong,id=_ref.id,audioRef=_ref.audioRef,isPlaying=_ref.isPlaying,setSongs=_ref.setSongs;var songSelectHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var selectedSong,newSongs;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:selectedSong=songs.filter(function(state){return state.id===id;});_context.next=3;return setCurrentSong(selectedSong[0]);case 3://Add active state\nnewSongs=songs.map(function(song){if(song.id===id){return _objectSpread(_objectSpread({},song),{},{active:true});}else{return _objectSpread(_objectSpread({},song),{},{active:false});}});setSongs(newSongs);//check song is playing\nif(isPlaying)audioRef.current.play();case 6:case\"end\":return _context.stop();}}},_callee);}));return function songSelectHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{onClick:songSelectHandler,className:\"library-song \".concat(song.active?\"selected\":\"\"),children:[/*#__PURE__*/_jsx(\"img\",{alt:song.name,src:song.cover}),/*#__PURE__*/_jsxs(\"div\",{className:\"song-description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:song.name}),/*#__PURE__*/_jsx(\"h4\",{children:song.artist})]})]});}export default LibrarySong;","map":{"version":3,"sources":["C:/Users/antho/Desktop/prueba/src/components/pages/components/LibrarySong.js"],"names":["React","LibrarySong","song","songs","setCurrentSong","id","audioRef","isPlaying","setSongs","songSelectHandler","selectedSong","filter","state","newSongs","map","active","current","play","name","cover","artist"],"mappings":"4UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,QAASC,CAAAA,WAAT,MAQG,IAPDC,CAAAA,IAOC,MAPDA,IAOC,CANDC,KAMC,MANDA,KAMC,CALDC,cAKC,MALDA,cAKC,CAJDC,EAIC,MAJDA,EAIC,CAHDC,QAGC,MAHDA,QAGC,CAFDC,SAEC,MAFDA,SAEC,CADDC,QACC,MADDA,QACC,CACD,GAAMC,CAAAA,iBAAiB,2FAAG,6JAClBC,YADkB,CACHP,KAAK,CAACQ,MAAN,CAAa,SAACC,KAAD,QAAWA,CAAAA,KAAK,CAACP,EAAN,GAAaA,EAAxB,EAAb,CADG,uBAElBD,CAAAA,cAAc,CAACM,YAAY,CAAC,CAAD,CAAb,CAFI,QAGxB;AACMG,QAJkB,CAIPV,KAAK,CAACW,GAAN,CAAU,SAACZ,IAAD,CAAU,CACnC,GAAIA,IAAI,CAACG,EAAL,GAAYA,EAAhB,CAAoB,CAClB,sCACKH,IADL,MAEEa,MAAM,CAAE,IAFV,GAID,CALD,IAKO,CACL,sCACKb,IADL,MAEEa,MAAM,CAAE,KAFV,GAID,CACF,CAZgB,CAJO,CAiBxBP,QAAQ,CAACK,QAAD,CAAR,CACA;AACA,GAAIN,SAAJ,CAAeD,QAAQ,CAACU,OAAT,CAAiBC,IAAjB,GAnBS,sDAAH,kBAAjBR,CAAAA,iBAAiB,2CAAvB,CAqBA,mBACE,aACE,OAAO,CAAEA,iBADX,CAEE,SAAS,wBAAkBP,IAAI,CAACa,MAAL,CAAc,UAAd,CAA2B,EAA7C,CAFX,wBAIE,YAAK,GAAG,CAAEb,IAAI,CAACgB,IAAf,CAAqB,GAAG,CAAEhB,IAAI,CAACiB,KAA/B,EAJF,cAKE,aAAK,SAAS,CAAC,kBAAf,wBACE,oBAAKjB,IAAI,CAACgB,IAAV,EADF,cAEE,oBAAKhB,IAAI,CAACkB,MAAV,EAFF,GALF,GADF,CAYD,CAED,cAAenB,CAAAA,WAAf","sourcesContent":["import React from \"react\";\r\n\r\nfunction LibrarySong({\r\n  song,\r\n  songs,\r\n  setCurrentSong,\r\n  id,\r\n  audioRef,\r\n  isPlaying,\r\n  setSongs,\r\n}) {\r\n  const songSelectHandler = async () => {\r\n    const selectedSong = songs.filter((state) => state.id === id);\r\n    await setCurrentSong(selectedSong[0]);\r\n    //Add active state\r\n    const newSongs = songs.map((song) => {\r\n      if (song.id === id) {\r\n        return {\r\n          ...song,\r\n          active: true,\r\n        };\r\n      } else {\r\n        return {\r\n          ...song,\r\n          active: false,\r\n        };\r\n      }\r\n    });\r\n    setSongs(newSongs);\r\n    //check song is playing\r\n    if (isPlaying) audioRef.current.play();\r\n  };\r\n  return (\r\n    <div\r\n      onClick={songSelectHandler}\r\n      className={`library-song ${song.active ? \"selected\" : \"\"}`}\r\n    >\r\n      <img alt={song.name} src={song.cover} />\r\n      <div className=\"song-description\">\r\n        <h3>{song.name}</h3>\r\n        <h4>{song.artist}</h4>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LibrarySong;\r\n"]},"metadata":{},"sourceType":"module"}