{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/antho/Desktop/prueba/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/antho/Desktop/prueba/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/antho/Desktop/prueba/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faPlay,faAngleLeft,faAngleRight,faPause,faVolumeUp,faVolumeDown}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Player(_ref){var currentSong=_ref.currentSong,isPlaying=_ref.isPlaying,setIsPlaying=_ref.setIsPlaying,audioRef=_ref.audioRef,setSongInfo=_ref.setSongInfo,songInfo=_ref.songInfo,songs=_ref.songs,setCurrentSong=_ref.setCurrentSong,setSongs=_ref.setSongs,volume=_ref.volume,setVolume=_ref.setVolume;var activeLibraryHandler=function activeLibraryHandler(nexPrev){var newSongs=songs.map(function(song){if(song.id===nexPrev.id){return _objectSpread(_objectSpread({},song),{},{active:true});}else{return _objectSpread(_objectSpread({},song),{},{active:false});}});setSongs(newSongs);};//Referance html tag\nvar playSongHandler=function playSongHandler(){if(isPlaying){audioRef.current.pause();setIsPlaying(!isPlaying);}else{audioRef.current.play();setIsPlaying(!isPlaying);}};var getTime=function getTime(time){return Math.floor(time/60)+\":\"+(\"0\"+Math.floor(time%60)).slice(-2);};var dragHandler=function dragHandler(e){audioRef.current.currentTime=e.target.value;setSongInfo(_objectSpread(_objectSpread({},songInfo),{},{currentTime:e.target.value}));};var skipTrackHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(direaction){var currentIndex;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currentIndex=songs.findIndex(function(song){return song.id===currentSong.id;});if(!(direaction===\"skip-forward\")){_context.next=5;break;}_context.next=4;return setCurrentSong(songs[(currentIndex+1)%songs.length]);case 4:activeLibraryHandler(songs[(currentIndex+1)%songs.length]);case 5:if(!(direaction===\"skip-back\")){_context.next=15;break;}if(!((currentIndex-1)%songs.length===-1)){_context.next=12;break;}_context.next=9;return setCurrentSong(songs[songs.length-1]);case 9:activeLibraryHandler(songs[songs.length-1]);if(isPlaying)audioRef.current.play();return _context.abrupt(\"return\");case 12:_context.next=14;return setCurrentSong(songs[(currentIndex-1)%songs.length]);case 14:activeLibraryHandler(songs[(currentIndex-1)%songs.length]);case 15:if(isPlaying)audioRef.current.play();case 16:case\"end\":return _context.stop();}}},_callee);}));return function skipTrackHandler(_x){return _ref2.apply(this,arguments);};}();var trackAnim={transform:\"translateX(\".concat(songInfo.animationPercentage,\"%)\")};var volumeChangeHandler=function volumeChangeHandler(e){setVolume(e.target.value);audioRef.current.volume=volume;};return/*#__PURE__*/_jsxs(\"div\",{className:\"player\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"time-control\",children:[/*#__PURE__*/_jsx(\"p\",{children:getTime(songInfo.currentTime)}),/*#__PURE__*/_jsxs(\"div\",{style:{background:\"linear-gradient(to right, \".concat(currentSong.color[0],\", \").concat(currentSong.color[1],\" )\")},className:\"track\",children:[/*#__PURE__*/_jsx(\"input\",{min:0,max:songInfo.duration||0,value:songInfo.currentTime,type:\"range\",onChange:dragHandler}),/*#__PURE__*/_jsx(\"div\",{style:trackAnim,className:\"animate-track\"})]}),/*#__PURE__*/_jsx(\"p\",{children:songInfo.duration?getTime(songInfo.duration):\"0:00\"})]}),/*#__PURE__*/_jsx(FontAwesomeIcon,{size:\"2x\",icon:volume>=0.5?faVolumeUp:faVolumeDown,style:{color:\"gray\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:0,max:1,value:volume,onChange:volumeChangeHandler,step:0.01,className:\"volumeInput\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"play-control\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return skipTrackHandler(\"skip-back\");},className:\"skip-back\",size:\"2x\",icon:faAngleLeft}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:playSongHandler,className:\"play\",size:\"2x\",icon:isPlaying?faPause:faPlay}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:function onClick(){return skipTrackHandler(\"skip-forward\");},className:\"skip-forward\",size:\"2x\",icon:faAngleRight})]})]});}export default Player;","map":{"version":3,"sources":["C:/Users/antho/Desktop/prueba/src/components/pages/components/Player.js"],"names":["React","FontAwesomeIcon","faPlay","faAngleLeft","faAngleRight","faPause","faVolumeUp","faVolumeDown","Player","currentSong","isPlaying","setIsPlaying","audioRef","setSongInfo","songInfo","songs","setCurrentSong","setSongs","volume","setVolume","activeLibraryHandler","nexPrev","newSongs","map","song","id","active","playSongHandler","current","pause","play","getTime","time","Math","floor","slice","dragHandler","e","currentTime","target","value","skipTrackHandler","direaction","currentIndex","findIndex","length","trackAnim","transform","animationPercentage","volumeChangeHandler","background","color","duration"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faPlay,\r\n  faAngleLeft,\r\n  faAngleRight,\r\n  faPause,\r\n  faVolumeUp,\r\n  faVolumeDown,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nfunction Player({\r\n  currentSong,\r\n  isPlaying,\r\n  setIsPlaying,\r\n  audioRef,\r\n  setSongInfo,\r\n  songInfo,\r\n  songs,\r\n  setCurrentSong,\r\n  setSongs,\r\n  volume,\r\n  setVolume,\r\n}) {\r\n  const activeLibraryHandler = (nexPrev) => {\r\n    const newSongs = songs.map((song) => {\r\n      if (song.id === nexPrev.id) {\r\n        return {\r\n          ...song,\r\n          active: true,\r\n        };\r\n      } else {\r\n        return {\r\n          ...song,\r\n          active: false,\r\n        };\r\n      }\r\n    });\r\n    setSongs(newSongs);\r\n  };\r\n  //Referance html tag\r\n\r\n  const playSongHandler = () => {\r\n    if (isPlaying) {\r\n      audioRef.current.pause();\r\n      setIsPlaying(!isPlaying);\r\n    } else {\r\n      audioRef.current.play();\r\n      setIsPlaying(!isPlaying);\r\n    }\r\n  };\r\n  const getTime = (time) => {\r\n    return (\r\n      Math.floor(time / 60) + \":\" + (\"0\" + Math.floor(time % 60)).slice(-2)\r\n    );\r\n  };\r\n  const dragHandler = (e) => {\r\n    audioRef.current.currentTime = e.target.value;\r\n    setSongInfo({ ...songInfo, currentTime: e.target.value });\r\n  };\r\n  const skipTrackHandler = async (direaction) => {\r\n    let currentIndex = songs.findIndex((song) => song.id === currentSong.id);\r\n    if (direaction === \"skip-forward\") {\r\n      await setCurrentSong(songs[(currentIndex + 1) % songs.length]);\r\n      activeLibraryHandler(songs[(currentIndex + 1) % songs.length]);\r\n    }\r\n    if (direaction === \"skip-back\") {\r\n      if ((currentIndex - 1) % songs.length === -1) {\r\n        await setCurrentSong(songs[songs.length - 1]);\r\n        activeLibraryHandler(songs[songs.length - 1]);\r\n        if (isPlaying) audioRef.current.play();\r\n        return;\r\n      }\r\n      await setCurrentSong(songs[(currentIndex - 1) % songs.length]);\r\n      activeLibraryHandler(songs[(currentIndex - 1) % songs.length]);\r\n    }\r\n    if (isPlaying) audioRef.current.play();\r\n  };\r\n\r\n  const trackAnim = {\r\n    transform: `translateX(${songInfo.animationPercentage}%)`,\r\n  };\r\n  const volumeChangeHandler = (e) => {\r\n    setVolume(e.target.value);\r\n    audioRef.current.volume = volume;\r\n  };\r\n  return (\r\n    <div className=\"player\">\r\n      <div className=\"time-control\">\r\n        <p>{getTime(songInfo.currentTime)}</p>\r\n        <div\r\n          style={{\r\n            background: `linear-gradient(to right, ${currentSong.color[0]}, ${currentSong.color[1]} )`,\r\n          }}\r\n          className=\"track\"\r\n        >\r\n          <input\r\n            min={0}\r\n            max={songInfo.duration || 0}\r\n            value={songInfo.currentTime}\r\n            type=\"range\"\r\n            onChange={dragHandler}\r\n          />\r\n\r\n          <div style={trackAnim} className=\"animate-track\"></div>\r\n        </div>\r\n\r\n        <p>{songInfo.duration ? getTime(songInfo.duration) : \"0:00\"}</p>\r\n      </div>\r\n      <FontAwesomeIcon\r\n        size=\"2x\"\r\n        icon={volume >= 0.5 ? faVolumeUp : faVolumeDown}\r\n        style={{ color: \"gray\" }}\r\n      />\r\n      <input\r\n        type=\"range\"\r\n        min={0}\r\n        max={1}\r\n        value={volume}\r\n        onChange={volumeChangeHandler}\r\n        step={0.01}\r\n        className=\"volumeInput\"\r\n      />\r\n      <div className=\"play-control\">\r\n        <FontAwesomeIcon\r\n          onClick={() => skipTrackHandler(\"skip-back\")}\r\n          className=\"skip-back\"\r\n          size=\"2x\"\r\n          icon={faAngleLeft}\r\n        />\r\n        <FontAwesomeIcon\r\n          onClick={playSongHandler}\r\n          className=\"play\"\r\n          size=\"2x\"\r\n          icon={isPlaying ? faPause : faPlay}\r\n        />\r\n        <FontAwesomeIcon\r\n          onClick={() => skipTrackHandler(\"skip-forward\")}\r\n          className=\"skip-forward\"\r\n          size=\"2x\"\r\n          icon={faAngleRight}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Player;\r\n"]},"metadata":{},"sourceType":"module"}